# Music Player

Курсовий проект: Музичний плеєр з архітектурою Client - Server.
Програма дозволяє завантажувати, зберігати та відтворювати музичні файли через протокол HTTP, створювати плейлисти та керувати чергою відтворення.

## Стек

### Backend 
*   **Java 17+** (Spring Boot 3.2.0)
*   **Database:** MySQL 8.0
*   **ORM:** Hibernate / Spring Data JPA
*   **Storage:** Локальна файлова система

### Client 
*   **JavaFX 21**
*   **UI Framework:** AtlantaFX
*   **Communication:** REST API (OkHttp + Gson)

---

## Вимоги до системи

Перед запуском має бути встановлено:
1.  **Java Development Kit (JDK) 17** або вище.
2.  **Maven 3.8+** (повинен бути в змінних середовища `PATH`).
3.  **MySQL Server 8.0+**.
4.  **ОС:** Windows (рекомендовано для коректної роботи медіа-кодеків JavaFX).

---

## Налаштування перед запуском

### 1. База Даних (MySQL)

Проект використовує MySQL. Необхідно створити базу даних перед запуском.

1.  Відкрийте термінал MySQL або клієнт (Workbench, DBeaver).
2.  Створіть базу даних:
    ```sql
    CREATE DATABASE music_player;
    ```
3.  Щоб заповнити базу тестовими даними (Адмін + Треки), виконайте SQL-скрипт, що знаходиться у файлі `database/setup.sql`.

### 2. Конфігурація підключення

Перевірте налаштування підключення до БД у файлі:
`backend/src/main/resources/application.properties`

За замовчуванням налаштовано:
```properties
spring.datasource.url=jdbc:mysql://localhost:3306/music_player?useSSL=false&serverTimezone=UTC
spring.datasource.username=root
spring.datasource.password=root
```

 **Важливо:** Якщо ваш пароль до MySQL відрізняється від `root`, змініть параметр `spring.datasource.password` на ваш власний.

### 3. Медіафайли
Фізичні файли (`.mp3`) зберігаються у папці:
`backend/storage/media`

 Якщо ви імпортували тестові дані через SQL-скрипт, переконайтеся, що відповідні MP3-файли фізично знаходяться у цій папці, інакше відтворення не працюватиме.

---

## Інструкція із запуску (через консоль)

Для запуску системи потрібно відкрити два окремих вікна терміналу (cmd або PowerShell).

### Крок 1. Запуск Сервера
Відкрийте термінал у папці `backend`.
Виконайте команду:
```bash
mvn clean spring-boot:run 
```

Дочекайтеся повідомлення: `Tomcat started on port 8080.`

### Крок 2. Запуск Клієнта
Відкрийте нове вікно терміналу у папці `client`.
Виконайте команду:
```bash
mvn clean javafx:run 
```

Відкриється вікно програми

### Інструкція користувача знаходиться в кінці пояснювальної записки до проекту

---

## TroubleShooting

**Помилка:** `Access denied for user 'root'@localhost`

* Ви не змінили пароль у `application.properties` на свій актуальний пароль від MySQL

**Помилка:** `MediaException: MEDIA_UNAVAILABLE`

* Переконайтеся, що сервер запущений.
* Перевірте, чи файл фізично існує у папці backend/storage/media.

## Користувачі

### Адміністратор

Має повний доступ: завантаження музики, рудагування метаданих, видалення треків з сервера.

* **Login:** admin
* **Password:** admin123

### Користувач

Має доступ до пошуку музики, відтворення потокових та локальних треків, а також може створювати плейлисти.

## Гість
Має обмежений доступ: тільки пошук та прослуховування музики.